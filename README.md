# **searchengine :exclamation: **
## ***<h3 align="center">My name is Sergey Koryushov! :mortar_board:</h3>***

Этот проект Search Engine является Поисковым движком по сайтам, ссылки которых и названия сайтов задаются в конфигурации проекта application.yaml.

Код c конфигурационного файла:
```java 
server:
        port: 8080
indexing-settings:
        sites:
        - url: https://www.lenta.ru/
        name: Лента.ру
        - url: https://www.skillbox.ru/
        name: Skillbox
        - url: https://www.playback.ru
        name: PlayBack.Ru
        - url: https://volochek.life/
        name: Volochek.Life
        - url: https://radiomv.ru/
        name: Radiomv.Ru
        - url: https://ipfran.ru/
        name: Ipfran.Ru
        server:
```

Описание файла и параметров:


Для индексации сайтов, нужно указать url сайта, name (название сайта);
_______________________________________________________________
В проекте используется база данных MySQL. 
Чтобы запустить индексацию, потребуется создать схему с именем : ***search_engine*** в базе данных.
В файле конфигурации прописана ссылка и порт для подключения к базе данных.
Необходимо указать Ваши данные для авторизации. 

Ссылка для подключения к БД выглядит следующим образом:
```java
spring:
datasource:
username: root
password: *********
url: jdbc:mysql://localhost:3306/search_engine?useSSL=false&requireSSL=false&allowPublicKeyRetrieval=true
jpa:
properties:
hibernate:
dialect: org.hibernate.dialect.MySQL8Dialect
hibernate:
ddl-auto: create
show-sql: true
```
___________________________


Заходим на [Localhost](http://localhost:8080/) в браузере и видим наше приложение.

Основная структура проекта состоит из 3 сервисов:
1. Отображение статистики - вкладка "DASHBOARD".
2. Индексация сайтов - вкладка "MANAGEMENT".
3. Поиск по сайтам - вкладка "SEARCH".

![screenshot localhost](https://github.com/Sergeykoryushov/searchengine/images/blob/main/image1.jpg)

<h3 align="center">1. Отображение статистики.</h3>
Сервис отвечает за отображение корректной статистики при работе сервиса.
После старта процесса индексации на вкладке "MANAGEMENT" - Статистика обновится и начнет отслеживать процесс индексации.
Можно увидеть количество лемм и проиндексированных страниц каждого сайта и общую информацию по всем сайтам.
Для корректного просмотра статистики в режиме онлайн страницу необходимо обновлять вручную.

_______________________________________________

<h3 align="center">2. Индексация сайтов.</h3>
На вкладке "MANAGEMENT" нажмите на кнопку синего цвета STARTINDEXING.

![screenshot Management](https://github.com/Sergeykoryushov/searchengine/images/blob/main/image.png)

В случае, если страницы были уже проиндексированы раннее, произойдет отчистка страниц, которая может занять продолжительное время.
Потребуется удалить множество индексов.
Индексация сайтов начнется заново.

После старта процесса индексации из файла конфигурации извлекаются данные по сайтам (url,name) и в рекурсивном
обходе происходит поиск ссылок по которым поисковый движок ещё не заходил.
Для рекурсивного обхода используется RecursiveAction и ForkJoinPool.

Каждый сайт запускается в отдельном потоке.

В процессе индексации вместе с записью страниц, а затем лемм(что такое леммы на скрине ниже), которые находятся на странице,
происходит запись индексов, отвечающих за соответствие страницы и леммы.


Скрин из Википедии, что такое лемматизация, и леммы: 
![lemma](https://github.com/Sergeykoryushov/searchengine/images/blob/main/image2.jpg)

В сервисе индексации добавлена возможность обновления/добавления страницы при указании её url, начиная с https://...

Скрин выше. Кнопка **add/update**.

В случае, если адрес страницы совпадет с сайтом из конфигурации, страница проиндексированна.
Если страница уже была ранее проиндексирванна, сначала будут удалены все индексы, частота лемм уменьшена, и удалена страница из базы.
В процессе индексации будет записана страница, добавлены леммы и созданы новые индексы.
_________________________________________________

<h3 align="center">3. Поиск по сайтам.</h3>

В верхнем поле, вы можете выбрать конкретный сайт для проведения поиска, или искать по всем сайтам.
Если поисковый запрос окажется пустым, программа выдаст соответствующее сообщение об ошибке.
Ищите, и получайте ссылки.
Вы можете указать одно, два или несколько слов.
Поиск не учитывает предолги, местоимения, междометия и частицы. 
Пример поискового запроса на скрине ниже:
![search](https://github.com/Sergeykoryushov/searchengine/images/blob/main/image3.jpg)


Спасибо за внимание!














